<html>
<head>
<title>Keymap Quirk Debugger</title>
<link rel="stylesheet" href="style.css" type="text/css" media="screen"/>
</head>
<body>

<table align="center" class="title">
<tr>
 <td><img src="img/keyboard-shortcuts.png"/></td>
 <td width="90%" valign="middle"><p class="title">Sleep Quirk Debugger</p></td>
 <td><img src="img/keyboard-shortcuts.png"/></td>
</tr>
</table>
<p>Back to the <a href="quirk-keymap-index.html">main keymap page</a></p>

<h1>Sending the data back to us</h1>

<p>
To download the latest hal-info code, just do:
</p>
<pre>
git clone git://git.freedesktop.org/git/hal-info
</pre>
<p>
If you get the error <code>bash: git: command not found</code> you need to install the git source control system.
You can do this doing:
</p>
<pre>
[user@localhost ~]$ su -l
Password: xxxxx
[root@localhost ~]# yum -y install git gcc automake
exit
</pre>
<p>
Then we need to copy the changes you made to the file in <code>/usr/share/hal/fdi/information/10freedesktop/</code> to this local git tree.
For example, open the local file using:
</p>
<pre>
cd hal-info
gedit fdi/information/10freedesktop/30-keymap-lenovo.fdi
</pre>
<p>
Then we can copy the xml from the locally installed fdi (in <code>/usr/share</code>) to this local checked out version.
Editing the file in the same way here allows us to generate a patch file that we can sent to the mailing list.
</p>
<p>
Once you have edited your file, you can check the new addition using the checker scripts.
These checker scripts run when you do
</p>
<pre>
./autogen.sh
make check
...
Validate XML in 30-keymap-lenovo.fdi : ok
...
</pre>
<p>
This will check the syntax of all the quirks (and your modification).
You can then generate the patch against git, by doing something like:
</p>
<pre>
git pull
git diff master > ../hal-info-keymap-lenovo-t60.patch
</pre>

<p>
Now the important bit: If that works, please send your matching data as an
attachment to the <a href="mailto:hal@lists.freedesktop.org">mailing list</a>
(and please also CC richard[at]hughsie[dot]com) and we can add it to future
updates to hal-info.
This will make other laptop keyboards <i>just work</i> in the future and you
can get a warm fuzzy feeling inside.
</p>

<p>Back to the <a href="quirk-keymap-index.html">main keymap page</a></p>

</body>
</html>
